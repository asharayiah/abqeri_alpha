<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Abqeri â€¢ Workbench</title>
    <link href="/assets/app.css" rel="stylesheet" />
    <link href="/assets/safeai.css" rel="stylesheet" />
    <style>
      :root { --gold:#d4af37; --ink:#0b0b0c; }
      body { background:#000; color:#eee; }
      .wb { max-width:1100px; margin:24px auto; padding:16px; }
      .card { background:linear-gradient(180deg,#0b0b0c,#121214); border:1px solid #2c2c2c; border-radius:12px; overflow:hidden; }
      .hdr { display:flex; align-items:center; gap:12px; padding:12px 14px; border-bottom:1px solid #222; color:var(--gold); font-weight:600; }
      .safeai-grid { display:grid; grid-template-columns: 1fr 360px; gap:14px; padding:14px; }
      @media (max-width: 980px){ .safeai-grid{ grid-template-columns:1fr; } }
      .pane { background:#0e0e10; border:1px solid #2b2b2b; border-radius:10px; overflow:hidden; }
      .subhdr { padding:10px 12px; border-bottom:1px solid #242426; color:#cfc; font-size:13px }
      #chat-stream { padding:12px; min-height:240px; max-height:420px; overflow:auto; white-space:pre-wrap; }
      #chat-form { display:flex; gap:8px; padding:10px; border-top:1px solid #242426; }
      #chat-input { flex:1; background:#101014; border:1px solid #303035; color:#eee; border-radius:8px; padding:10px 12px; resize:vertical; min-height:42px; }
      #chat-send { background:var(--gold); color:#111; border:none; padding:10px 14px; border-radius:8px; font-weight:600; cursor:pointer; }
      #chat-send:disabled { opacity:.6; cursor:not-allowed; }
      .meta-box { padding:10px 12px; font-size:12px; color:#cfcfcf }
      .meta-row { display:flex; align-items:center; justify-content:space-between; gap:8px; padding:8px 0; border-bottom:1px dashed #222; }
      .meta-row:last-child{ border-bottom:0; }
      .chip { border:1px solid #4a3a13; color:var(--gold); background:#14120c; padding:3px 7px; border-radius:999px; font-size:11px; }
      a { color:var(--gold); text-decoration:none; }
    </style>
  </head>
  <body>
    <main class="wb">
      <section class="card" id="safeai">
        <div class="hdr">ðŸ”’ Safe-AI (Workers AI, hybrid-ready)</div>
        <div class="safeai-grid">
          <div class="pane">
            <div class="subhdr">Chat</div>
            <div id="chat-stream"></div>
            <form id="chat-form" novalidate>
              <textarea id="chat-input" placeholder="Type your messageâ€¦ (Shift+Enter for newline)"></textarea>
              <button id="chat-send" type="submit">Send</button>
            </form>
          </div>
          <aside class="pane">
            <div class="subhdr">Compute path & model</div>
            <div class="meta-box" id="chat-meta">
              <div class="meta-row"><div>Compute Path</div><div><span class="chip" id="chip-compute">Software</span></div></div>
              <div class="meta-row"><div>Model</div><div id="meta-model">@cf/meta/llama-3.1-8b-instruct</div></div>
              <div class="meta-row"><div>Guardrails</div><div><span id="meta-mode">General</span> â€¢ <span id="meta-safety">Moderate</span> â€¢ <span id="meta-lang">en</span></div></div>
            </div>
            <div class="meta-box" style="border-top:1px solid #242426; margin-top:8px; padding-top:12px">
              Docs: <a href="/docs/en/safeai-policy-brief">Policy brief</a> â€¢ <a href="/docs/en/safeai-safety-notes">Safety notes</a>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <!-- Load our scripts (no inline code; CSP will block stray inline) -->
    <script src="/assets/app.js?v=2025-10-29-3" defer></script>
    <script src="/assets/safeai.js?v=2025-10-29-3" defer></script>
  </body>
</html>
